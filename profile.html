<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - David's Farm</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="background-particles"></div>
    <div id="site-content">
        <header>
            <div class="header-left">
                <a href="index.html" style="display: flex; align-items: center; text-decoration: none; color: inherit;">
                    <img src="imgs/logo.svg" alt="Logo David's Farm" id="logo">
                    <h1>David's Farm</h1>
                </a>
            </div>
            <div class="user-auth-section">
                </div>
        </header>
        <main>
            <div class="profile-container">
                <aside class="profile-menu">
                    <ul>
                        <li><button id="tab-perfil" class="active">Perfil</button></li>
                        <li><button id="tab-seguranca">Segurança</button></li>
                        <li><a href="friends.html" class="profile-menu-link-button">Amigos</a></li> </ul>
                </aside>
                <section class="profile-content">
                    <div id="section-perfil" class="profile-section active">
                        <h2>Meu Perfil</h2>
                        <form id="profile-form">
                            <div class="form-group">
                                <label for="profile-username">Nome de Usuário (Apelido):</label>
                                <input type="text" id="profile-username" name="username">
                            </div>
                            <div class="form-group">
                                <label for="profile-photo-url-input">URL da Foto de Perfil:</label>
                                <input type="url" id="profile-photo-url-input" name="photoURL" placeholder="https://exemplo.com/sua-foto.jpg">
                                <div class="photo-preview-container" style="margin-top:10px;">
                                    <img id="profile-photo-preview-img" src="imgs/default-avatar.png" alt="Pré-visualização da foto">
                                    <small>Pré-visualização</small>
                                </div>
                            </div>
                            <button type="submit">Salvar Alterações do Perfil</button>
                        </form>
                        <div id="profile-message" class="form-message"></div>
                        <hr style="margin: 30px 0; border-color: #444;">
                        <div class="account-actions">
                            <h3>Gerenciar Conta</h3>
                            <button id="logout-button-profile-page" class="account-action-button">Sair da conta</button>
                            <button id="delete-account-button" class="account-action-button delete">Deletar conta</button>
                            <div id="account-action-message" class="form-message"></div>
                        </div>
                    </div>

                    <div id="section-seguranca" class="profile-section">
                        <h2>Segurança da Conta</h2>
                        <form id="change-password-form">
                            <h3 id="password-form-title">Alterar Senha</h3>
                            <div class="form-group" id="current-password-group">
                                <label for="current-password">Senha Atual:</label>
                                <input type="password" id="current-password" name="currentPassword">
                            </div>
                            <div class="form-group">
                                <label for="new-password" id="new-password-label">Nova Senha:</label>
                                <input type="password" id="new-password" name="newPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="confirm-new-password">Confirmar Nova Senha:</label>
                                <input type="password" id="confirm-new-password" name="confirmNewPassword" required>
                            </div>
                            <button type="submit" id="password-submit-button">Alterar Senha</button>
                        </form>
                        <div id="password-message" class="form-message"></div>
                        <hr style="margin: 30px 0; border-color: #444;">
                        <form id="change-email-form">
                            <h3>Alterar Email</h3>
                            <p>Seu email atual: <strong id="current-email-display"></strong></p>
                             <div class="form-group">
                                <label for="email-current-password">Senha Atual (para confirmar alteração de email):</label>
                                <input type="password" id="email-current-password" name="emailCurrentPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="new-email">Novo Email:</label>
                                <input type="email" id="new-email" name="newEmail">
                            </div>
                            <button type="submit">Alterar Email</button>
                        </form>
                        <div id="email-message" class="form-message"></div>
                    </div>
                </section>
            </div>
        </main>
        <footer>
             <p>&copy; <span id="currentYear"></span> David's Farm. Todos os direitos reservados.</p>
        </footer>
    </div>
    <script type="module" src="profile-script.js"></script>
</body>
</html>